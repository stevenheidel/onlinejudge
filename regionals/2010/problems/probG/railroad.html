<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <title>Problem G: Railroad</title>
    <style type="text/css"><!--
      html { margin-left: 4em; }
      h1 { margin-left: -2em; font-size: 14pt; }
      tt,pre { font-weight: bold; font-size: 12pt; }
      .image { text-align: center; border: 1px solid black; margin: 1em; }
      .left { float: left; }
      .right { float: right; }
      .center { margin-left: auto; margin-right: auto; }
     .break { page-break-before: always; }
 --></style>
</head><body>
    <h1>Problem G: Railroad</h1>

    <br/><b>Source:</b> <tt>railroad.{c,cpp,java}</tt>
    <br/><b>Input:</b> <tt>console {stdin,cin,System.in}</tt>
    <br/><b>Output:</b> <tt>console {stdout,cout,System.out}</tt>

<p>A train yard is a complex series of railroad tracks for storing,
sorting, or loading/unloading railroad cars. In this problem, the
railroad tracks are much simpler, and we are only interested in
combining two trains into one.</p> 

<div class="center image">
  <img src="railroad1.gif" alt="merging tracks" />
  <p><b>Figure&nbsp;1</b>: Merging railroad tracks.</p>
</div>

<p>The two trains each contain some railroad cars. Each railroad car
contains a single type of products identified by a positive integer up
to 1,000,000. The two trains come in from the right on separate
tracks, as in the diagram above. To combine the two trains, we may
choose to take the railroad car at the front of either train and
attach it to the back of the train being formed on the left. Of
course, if we have already moved all the railroad cars from one train,
then all remaining cars from the other train will be moved to the left
one at a time. All railroad cars must be moved to the left
eventually. Depending on which train on the right is selected at each
step, we will obtain different arrangements for the departing train on
the left. For example, we may obtain the order 1,1,1,2,2,2 by always
choosing the top train until all of its cars have been moved. We may
also obtain the order 2,1,2,1,2,1 by alternately choosing
railroad cars from the two trains.</p>

<p>To facilitate further processing at the other train yards later on in
the trip (and also at the destination), the supervisor at the train
yard has been given an ordering of the products desired for the
departing train. In this problem, you must decide whether it is
possible to obtain the desired ordering, given the orders of the
products for the two trains arriving at the train yard.</p>

<h1 class="break">Input</h1>

<p>The input consists of a number of cases. The first line contains
two positive integers <tt>N<sub>1</sub> N<sub>2</sub></tt> which are
the number of railroad cars in 
each train. There are at least 1 and at most 1000 railroad cars in
each train. The second line contains <tt>N<sub>1</sub></tt> positive
integers (up to 1,000,000) identifying the products on the first train
from front of the train to the back of the train. The third line
contains <tt>N<sub>2</sub></tt> positive integers identifying the
products on the second 
train (same format as above). Finally, the fourth line contains
<tt>N<sub>1</sub>+N<sub>2</sub></tt> positive integers giving the
desired order for the departing train (same format as above).</p>

<p>The end of input is indicated by <tt>N<sub>1</sub> = N<sub>2</sub>
= 0</tt>.</p>

<h1>Output</h1>

For each case, print on a line <tt>possible</tt> if it is possible to
produce the desired order, or <tt>not possible</tt> if not.

<h1>Sample input</h1>
<pre>
3 3
1 2 1
2 1 1
1 2 1 1 2 1
3 3
1 2 1
2 1 2
1 1 1 2 2 2
0 0
</pre>

<h1>Sample Output</h1>
<pre>
possible
not possible
</pre>
</body>
</html>
